# T-003: Setup Tailwind v4 + shadcn/ui + Vitest

| Campo | Valor |
|-------|-------|
| **Tamanho** | M |
| **Prioridade** | Must Have |
| **Epic** | Setup |
| **Depende de** | T-001 |

---

## Contexto

Configurar UI com Tailwind CSS v4, shadcn/ui 2.5.x e framework de testes Vitest 3.0.5+.

## Objetivo

Estilizacao e componentes UI prontos, framework de testes configurado com estrategia TDD por camada.

## Escopo

- Instalar e configurar Tailwind CSS v4
- Instalar shadcn/ui com componentes base
- Configurar Vitest 3.0.5+ com coverage
- Configurar estrutura de testes (unit, integration, e2e)
- Instalar Testcontainers e MSW

## Arquivos a Criar

```
youfluent/
├── src/
│   ├── app/
│   │   └── globals.css        # Tailwind v4 imports
│   └── shared/
│       └── components/
│           └── ui/            # shadcn/ui components
│               ├── button.tsx
│               └── card.tsx
├── tests/
│   ├── unit/
│   │   └── features/
│   ├── integration/
│   ├── e2e/
│   ├── mocks/
│   │   ├── youtube.ts
│   │   └── openai.ts
│   └── setup/
│       ├── testcontainers.ts
│       └── msw-server.ts
├── vitest.config.ts
├── components.json            # shadcn config
└── postcss.config.js
```

## Implementacao

```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
    environment: 'node',
    include: ['tests/**/*.test.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: ['tests/**', '**/*.d.ts'],
    },
    setupFiles: ['tests/setup/msw-server.ts'],
  },
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
})
```

## Criterios de Aceite

- [ ] Tailwind v4 funcionando (CSS-first config)
- [ ] shadcn/ui Button e Card instalados
- [ ] `pnpm test` roda Vitest
- [ ] `pnpm test:coverage` gera relatorio
- [ ] Estrutura de testes criada
- [ ] MSW configurado para mocks

## Validacao

```bash
pnpm build
pnpm test
pnpm test:coverage
```

---

## Tags de Contexto

```
ARQUITETURA: stack, decisoes/adr-005-testing-strategy
```

---

## Notas

- Tailwind v4 usa CSS-first config (sem tailwind.config.js)
- Vitest 3.0.5+ obrigatorio (CVE fix)
- shadcn/ui 2.5.x compativel com React 19 e Tailwind v4
- Testcontainers requer Docker
