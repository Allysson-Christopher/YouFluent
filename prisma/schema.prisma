// YouFluent Database Schema
// Prisma 7.x with PostgreSQL

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// ====================
// TRANSCRIPT DOMAIN (T-006)
// ====================

model Transcript {
  id        String   @id @default(cuid())
  videoId   String   @unique
  title     String
  language  String   @default("en")
  fullText  String   @db.Text
  createdAt DateTime @default(now())
  chunks    Chunk[]

  @@index([videoId])
}

model Chunk {
  id           String     @id @default(cuid())
  index        Int
  startTime    Float
  endTime      Float
  text         String     @db.Text
  transcriptId String
  transcript   Transcript @relation(fields: [transcriptId], references: [id], onDelete: Cascade)

  @@index([transcriptId])
}
